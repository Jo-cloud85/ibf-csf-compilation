<h1>Todo</h1>
<form
    class="form-group d-flex flex-column gap-4 my-3" 
    [formGroup]="taskForm" 
    (ngSubmit)="addTask()"
>
    <div>
        <mat-form-field appearance="outline">
            <mat-label>Description</mat-label>
            <input matInput type="text" formControlName="description">
        </mat-form-field>
        <div>
            <small 
                class="text-danger" 
                *ngIf="taskForm.get('description')?.touched && taskForm.get('description')?.hasError('required')"
            >Please enter description
            </small>
        </div>
    </div>
    <div>
        <label class="form-label">Priority</label>
        <div class="d-flex gap-5">
            <mat-radio-group formControlName="priority">
                <mat-radio-button
                    *ngFor="let p of priority"
                    class="me-2" 
                    [value]="p"
                >{{p}}
                </mat-radio-button>
            </mat-radio-group>
        </div>
    </div>
    <div>
        <label class="form-label">Due Date</label>
        <input 
            class="form-control" 
            type="date" 
            formControlName="dueDate" 
            (change)="checkDueDate()"
        >
        <small 
            class="text-danger" 
            *ngIf="dueDateInPast"
        >Error: Due date cannot be in the past
        </small>
    </div>
    <div>
        <button 
            mat-raised-button
            type="submit" 
            [disabled]="!taskForm.valid || dueDateInPast"
        >Add Task
        </button>
    </div>
</form>

